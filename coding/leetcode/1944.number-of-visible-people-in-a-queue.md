# Number of Visible People in a Queue
[1944. Number of Visible People in a Queue](https://leetcode.com/problems/number-of-visible-people-in-a-queue/)

There are n people standing in a queue, and they are numbered from 0 to n - 1 in left to right order. You are given an array heights of distinct integers where heights[i] represents the height of the ith person.

A person can see another person to their right if everybody in between is shorter than both of them. More formally, the ith person can see the jth person if i < j and min(heights[i], heights[j]) > max(heights[i+1], heights[i+2], ..., heights[j-1]).

Return an array answer of length n where answer[i] is the number of people the ith person can see to their right.

# Key insights
* Use a monotonic decreasing stack, iterating from right to left
* For each person, pop all shorter people from the stack â€” each popped person is visible to the current person
* If the stack is not empty after popping, the person on top is also visible (the first taller person blocks the rest)
* The stack maintains people in decreasing order of height, representing potential "blockers"

# Code
```javascript
var canSeePersonsCount = function(heights) {
    const stack = [];
    const res = [];

    for (let i = heights.length - 1; i >= 0; i--) {
        let count = 0
        while (heights[stack.at(-1)] < heights[i]) {
            stack.pop();
            count++;
        }
        if (stack.length === 0) {
            res[i] = count;
        } else {
            res[i] = count + 1;
        }
        stack.push(i)
    }

    return res;
};
```

# Complexity
**Time:** O(n) - Each element is pushed and popped from the stack at most once.

**Space:** O(n) - The stack can hold up to n elements in the worst case.
