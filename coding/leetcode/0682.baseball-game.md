# Baseball Game
[682. Baseball Game](https://leetcode.com/problems/baseball-game/)

You are keeping the scores for a baseball game with strange rules. At the beginning of the game, you start with an empty record.

# Key insights
- Use a stack to simulate the game record: push scores for numbers, and apply operations (+, D, C) using the top elements
- '+' sums the last two scores, 'D' doubles the last score, 'C' removes the last score
- Final answer is the sum of all remaining scores in the stack

# Code
```javascript
/**
 * @param {string[]} operations
 * @return {number}
 */
var calPoints = function(operations) {
    const stack = [];
    
    for (const token of operations) {
        if (token === '+') {
            let val1 = stack.at(-1);
            let val2 = stack.at(-2);
            const newNum = Number(val1) + Number(val2);
            stack.push(newNum);
        } else if (token === 'D') {
            let val1 = stack.at(-1);
            stack.push(Number(val1) * 2);
        } else if (token === 'C') {
            if (stack.length > 0) stack.pop();
        } else {
            stack.push(Number(token))
        }
    }
    return stack.reduce((sum, score) => sum + score, 0);
};

```

# Complexity
**Time:** O(n) -- single pass through operations plus O(n) reduce for the sum
**Space:** O(n) -- for the stack
