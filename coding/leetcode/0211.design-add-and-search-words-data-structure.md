# Design Add and Search Words Data Structure
[211. Design Add and Search Words Data Structure](https://leetcode.com/problems/design-add-and-search-words-data-structure/)

Design a data structure that supports adding new words and finding if a string matches any previously added string.

# Key insights
- Trie data structure: addWord inserts characters one by one, marking the end node
- Search uses DFS: for regular characters, follow the exact child; for '.', try all children recursively
- The wildcard '.' branching makes search potentially explore multiple paths in the trie

# Code
```javascript

class TrieNode {
    constructor() {
        this.keys = new Map();
        this.isEnd = false;
    }
}

var WordDictionary = function() {
    this.root = new TrieNode();
};

/** 
 * @param {string} word
 * @return {void}
 */
WordDictionary.prototype.addWord = function(word) {
    let node = this.root;
    for (const char of word) {
        if (!node.keys.has(char)) node.keys.set(char, new TrieNode());
        node = node.keys.get(char);
    }
    node.isEnd = true;
};

/** 
 * @param {string} word
 * @return {boolean}
 */
WordDictionary.prototype.search = function(word) {
    function dfs(node, index) {
        if (index === word.length) return node.isEnd;

        const char = word[index];
        if (char === '.') {
            // Wildcard: check all possible continuations
            for (const child of node.keys.values()) {
                if (dfs(child, index + 1)) return true;
            }
            return false;
        } else {
            if (!node.keys.has(char)) return false;
            return dfs(node.keys.get(char), index + 1);
        }
    }
    return dfs(this.root, 0);
};

/** 
 * Your WordDictionary object will be instantiated and called as such:
 * var obj = new WordDictionary()
 * obj.addWord(word)
 * var param_2 = obj.search(word)
 */
```

# Complexity
**Time:** O(L) for addWord, O(26^L) worst case for search with wildcards (L = word length)
**Space:** O(total characters across all words) for the trie
