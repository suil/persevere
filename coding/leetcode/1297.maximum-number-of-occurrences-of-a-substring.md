# Maximum Number of Occurrences of a Substring
[1297. Maximum Number of Occurrences of a Substring](https://leetcode.com/problems/maximum-number-of-occurrences-of-a-substring/)

Given a string s, return the maximum number of occurrences of any substring under the following rules:

# Key insights
- Only checks substrings of minSize because any valid substring of maxSize must contain a valid minSize substring with at least as many occurrences
- Slides a window of minSize across the string, counting distinct characters to filter by maxLetters
- Tracks frequency of qualifying substrings in a map and returns the maximum count

# Code
```javascript
/**
 * @param {string} s
 * @param {number} maxLetters
 * @param {number} minSize
 * @param {number} maxSize
 * @return {number}
 */
var maxFreq = function(s, maxLetters, minSize, maxSize) {
    const freq = new Map();
    let res = 0;

    for (let i = 0; i <= s.length - minSize; i++) {
        const sub = s.substring(i, i + minSize);

        const set = new Set(sub.split(''));
        if (set.size <= maxLetters) {
            freq.set(sub, (freq.get(sub) || 0) + 1);
            res = Math.max(res, freq.get(sub));
        }
    }
    return res;
};
```

# Complexity
**Time:** O(n * minSize) -- for each position, extracting and checking a substring of length minSize
**Space:** O(n * minSize) -- for the frequency map storing substrings
