# Surrounded Regions
[130. Surrounded Regions](https://leetcode.com/problems/surrounded-regions/)

Given an m x n matrix board containing 'X' and 'O', capture all regions that are 4-directionally surrounded by 'X'. A region is captured by flipping all 'O's into 'X's in that surrounded region.

# Key insights
* Any 'O' connected to the border cannot be captured
* DFS/BFS from all border 'O's and mark them as safe
* After marking, all remaining 'O's are surrounded â€” flip them to 'X'
* Restore the safe markers back to 'O'

# Code
```javascript
var solve = function(board) {
    rowLen := len(board)
    colLen := len(board[0])

    var dfs func(row, col int)
    dfs = func(row, col int) {
        if row < 0 || row >= rowLen || col < 0 || col >= colLen { return }
        if board[row][col] != 'O' {
            return
        }
        
        board[row][col] = 'T'

        dfs(row, col + 1)
        dfs(row, col - 1)
        dfs(row + 1, col)
        dfs(row - 1, col)
    }

    for row := 0; row < rowLen; row++ {
        dfs(row, 0)
        dfs(row, colLen - 1)
    }

    for col := 0; col < colLen; col++ {
        dfs(0, col)
        dfs(rowLen - 1, col)
    }

    for row := 0; row < rowLen; row++ {
        for col := 0; col < colLen; col++ {
            if board[row][col] == 'O' {
                board[row][col] = 'X'
            } else if board[row][col] == 'T' {
                board[row][col] = 'O'
            }
        }
    }
};
```

# Complexity
**Time:** O(m * n) - Each cell is visited at most once.**Space:** O(m * n) - DFS recursion stack in the worst case.
