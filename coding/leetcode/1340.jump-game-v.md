# Jump Game V
[1340. Jump Game V](https://leetcode.com/problems/jump-game-v/)

Given an array of integers arr and an integer d. In one step you can jump from index i to index:

# Key insights
- Memoized DFS from each index: can jump left or right up to d steps, but only to strictly shorter bars
- The jump stops as soon as a bar of equal or greater height is encountered (acts as a wall)
- Each index is computed once and cached, avoiding redundant work across starting positions

# Code
```javascript
/**
 * @param {number[]} arr
 * @param {number} d
 * @return {number}
 */
var maxJumps = function(arr, d) {
    const n = arr.length;
    const memo = new Array(n).fill(-1);

    function backtrack(index) {
        if (memo[index] !== -1) return memo[index];

        let maxReach = 1; // at least the current index

        // Jump left
        for (let step = 1; step <= d; step++) {
            if (index - step < 0) continue;
            if (arr[index - step] >= arr[index]) break; // can't jump further
            maxReach = Math.max(maxReach, 1 + backtrack(index - step));
        }

        // Jump right
        for (let step = 1; step <= d; step++) {
            if (index + step >= n) continue;
            if (arr[index + step] >= arr[index]) break;
            maxReach = Math.max(maxReach, 1 + backtrack(index + step));
        }

        memo[index] = maxReach;
        return maxReach;
    }

    let result = 1;
    for (let i = 0; i < n; i++) {
        result = Math.max(result, backtrack(i));
    }

    return result;
};
```

# Complexity
**Time:** O(n * d) -- each index computed once, exploring up to d steps in each direction
**Space:** O(n) -- for the memo array and recursion stack
