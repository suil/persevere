# Sum of All Odd Length Subarrays
[1588. Sum of All Odd Length Subarrays](https://leetcode.com/problems/sum-of-all-odd-length-subarrays/)

Given an array of positive integers arr, return the sum of all possible odd-length subarrays of arr.

# Key insights
- Count how many odd-length subarrays each element appears in
- Element at index i: leftCount = i+1 (subarrays starting at or before i)
- rightCount = n-i (subarrays ending at or after i)
- Total subarrays containing i = leftCount * rightCount; half are odd-length

# Code
```javascript
/**
 * @param {number[]} arr
 * @return {number}
 */
var sumOddLengthSubarrays = function(arr) {
    const len = arr.length;
    let res = 0;

    for (let i = 0; i < len; i++) {
        const leftCount = i + 1;
        const rightCount = len - i;

        const totalCount = leftCount * rightCount;
        const oddCount = Math.floor((totalCount + 1) / 2);
        res += arr[i] * oddCount;
    }
    return res;
};

```

# Complexity
**Time:** O(n) - single pass through the array
**Space:** O(1) - only using variables
