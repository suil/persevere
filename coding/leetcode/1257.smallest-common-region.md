# Smallest Common Region
[1257. Smallest Common Region](https://leetcode.com/problems/smallest-common-region/)

You are given some lists of regions where the first region of each list directly contains all other regions in that list.

# Key insights
- Builds a child-to-parent map from the region hierarchy
- Collects all ancestors of region1 into a Set, then walks up from region2 until finding the first common ancestor
- This is the same approach as finding the lowest common ancestor in a tree using parent pointers

# Code
```javascript
/**
 * @param {string[][]} regions
 * @param {string} region1
 * @param {string} region2
 * @return {string}
 */
var findSmallestRegion = function(regions, region1, region2) {
    const parentMap = new Map();
    for (const region of regions) {
        const [parent, ...children] = region;
        for (const child of children) {
            parentMap.set(child, parent);
        }
    }

    const ancestors = new Set();
    while (region1) {
        ancestors.add(region1);
        region1 = parentMap.get(region1);
    }

    while (region2) {
        if (ancestors.has(region2)) return region2;
        region2 = parentMap.get(region2);
    }
};
```

# Complexity
**Time:** O(n + h) -- where n is the total number of region entries and h is the height of the tree
**Space:** O(n) -- for the parent map and ancestor set
