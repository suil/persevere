# Falling Squares
[699. Falling Squares](https://leetcode.com/problems/falling-squares/)

There are several squares being dropped onto the X-axis of a 2D plane.

# Key insights
- For each new square, check overlap with all previously placed squares to find the maximum base height it lands on
- Two intervals overlap if max(left1, left2) < min(right1, right2)
- Track the running maximum height across all placed squares for each position in the result

# Code
```javascript
/**
 * @param {number[][]} positions
 * @return {number[]}
 */
var fallingSquares = function(positions) {
    // The user's logic and mergeInterval skeleton are not correct for this simulation,
    // so we'll fill the hole by providing a correct O(n^2) interval stacking simulation.
    const res = [];
    const squares = [];
    let maxHeight = 0;
    for (const [left, sideLength] of positions) {
        const right = left + sideLength;
        let base = 0;
        // For each existing square, if there is overlap, use its height as base
        for (const [l, r, h] of squares) {
            if (Math.max(left, l) < Math.min(right, r)) {
                base = Math.max(base, h);
            }
        }
        const newHeight = base + sideLength;
        squares.push([left, right, newHeight]);
        maxHeight = Math.max(maxHeight, newHeight);
        res.push(maxHeight);
    }
    return res;
};
```

# Complexity
**Time:** O(n^2) where n is the number of squares -- each new square checks against all previous ones
**Space:** O(n) -- for storing the placed squares and result array
