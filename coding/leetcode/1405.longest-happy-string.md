# Longest Happy String
[1405. Longest Happy String](https://leetcode.com/problems/longest-happy-string/)

A string s is called happy if it satisfies the following conditions:

# Key insights
- Greedy approach with a max priority queue: always try to use the character with the highest remaining count
- If the top character would create three consecutive duplicates, use the next most frequent character instead
- After using a character, re-enqueue it with decremented count if it still has remaining uses

# Code
```javascript
/**
 * @param {number} a
 * @param {number} b
 * @param {number} c
 * @return {string}
 */
var longestDiverseString = function(a, b, c) {
    const pq = new PriorityQueue((a, b) => b[1] - a[1]);
    if (a > 0) pq.enqueue(['a', a]);
    if (b > 0) pq.enqueue(['b', b]);
    if (c > 0) pq.enqueue(['c', c]);

    let res = '';
    while (!pq.isEmpty()) {
        let [char, count] = pq.dequeue();
        if (res.length >= 2 && res[res.length - 1] === char && res[res.length - 2] === char) {
            if (pq.isEmpty()) break;
            let [char2, count2] = pq.dequeue();
            res += char2;
            if (count2 - 1 > 0) pq.enqueue([char2, count2 - 1]);
            pq.enqueue([char, count]);
        } else {
            res += char;
            if (count - 1 > 0) pq.enqueue([char, count - 1]);
        }
    }
    return res;
};

```

# Complexity
**Time:** O((a + b + c) * log 3) = O(a + b + c) -- each character placement involves constant-time heap operations on at most 3 elements
**Space:** O(1) -- the priority queue holds at most 3 entries
