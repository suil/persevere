# Fruit Into Baskets
[904. Fruit Into Baskets](https://leetcode.com/problems/fruit-into-baskets/)

You are visiting a farm that has a single row of fruit trees arranged from left to right. The trees are represented by an integer array fruits where fruits[i] is the type of fruit the ith tree produces.

# Key insights
- Sliding window problem: find longest subarray with at most 2 distinct values
- Use a Map to track fruit types and their counts in current window
- When window has more than 2 types, shrink from left
- Track maximum window size seen

# Code
```javascript
/**
 * @param {number[]} fruits
 * @return {number}
 */
var totalFruit = function(fruits) {
    let left = 0;
    let basket = new Map();
    let max = -Infinity;

    for (let i = 0; i < fruits.length; i++) {
        basket.set(fruits[i], (basket.get(fruits[i]) || 0) + 1);

        while (basket.size > 2) {
            basket.set(fruits[left], basket.get(fruits[left]) - 1);
            if (basket.get(fruits[left]) === 0) {
                basket.delete(fruits[left]);
            }
            left++;
        }
        if (basket.size > 0) max = Math.max(max, i - left + 1)
    }

    return max === -Infinity ? 0 : max;
};
```

# Complexity
**Time:** O(n) - each element is added and removed from window at most once
**Space:** O(1) - map has at most 3 entries
