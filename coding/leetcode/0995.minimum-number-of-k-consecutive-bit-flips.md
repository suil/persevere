# Minimum Number of K Consecutive Bit Flips
[995. Minimum Number of K Consecutive Bit Flips](https://leetcode.com/problems/minimum-number-of-k-consecutive-bit-flips/)

You are given a binary array nums and an integer k.

# Key insights
- Uses a difference array to efficiently track the cumulative number of flips affecting each position
- Greedily flips starting at the leftmost 0 encountered (after accounting for prior flips)
- If a flip would extend beyond the array, returns -1 since it is impossible to make all bits 1

# Code
```javascript
/**
 * @param {number[]} nums
 * @param {number} k
 * @return {number}
 */
var minKBitFlips = function(nums, k) {
    const n = nums.length;
    const diff = new Array(n + 1).fill(0);

    let flips = 0;
    let count = 0;
    for (let i = 0; i < n; i++) {
        flips += diff[i];
        if ((nums[i] + flips) % 2 === 1) continue;

        if (i + k - 1 >= n) return -1;
        flips++;
        count++;
        diff[i + k] -= 1;
    }

    return count;
}
```

# Complexity
**Time:** O(n) -- single pass through the array
**Space:** O(n) -- for the difference array
