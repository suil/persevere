# Possible Bipartition
[886. Possible Bipartition](https://leetcode.com/problems/possible-bipartition/)

We want to split a group of n people (labeled from 1 to n) into two groups of any size. Each person may dislike some other people, and they should not go into the same group.

# Key insights
- This is a graph bipartite checking problem
- Build undirected graph from dislikes, then try to 2-color it
- DFS with alternating colors (EVEN/ODD): if a node's neighbor already has the same color, it's impossible
- Handle disconnected components by starting DFS from each unvisited node

# Code
```javascript
/**
 * @param {number} n
 * @param {number[][]} dislikes
 * @return {boolean}
 */
var possibleBipartition = function(n, dislikes) {
    const graph = new Map();
    for (const [a, b] of dislikes) {
        if (!graph.has(a)) graph.set(a, []);
        graph.get(a).push(b);
        if (!graph.has(b)) graph.set(b, []);
        graph.get(b).push(a);
    }

    const EVEN = 1;
    const ODD = -1;
    const visited = new Map();
    function dfs(node, marker) {
        if (visited.has(node)) {
            return visited.get(node) === marker;
        }

        visited.set(node, marker);

        for (const nei of (graph.get(node) || [])) {
            const nextMarker = marker === EVEN ? ODD : EVEN;
            if (dfs(nei, nextMarker) === false) return false;
        }
        return true;
    }

    for (let i = 1; i <= n; i++) {
        if (!visited.has(i) && dfs(i, EVEN) === false) return false;
    }
    return true;
};
```

# Complexity
**Time:** O(V + E) - where V is n people, E is number of dislikes
**Space:** O(V + E) - for the graph and visited map
