# Pour Water
[755. Pour Water](https://leetcode.com/problems/pour-water/)

You are given an elevation map represents as an integer array heights where heights[i] representing the height of the terrain at index i. The width at each index is 1. You are also given two integers volume and k. volume units of water will fall at index k.

# Key insights
- Simulate each water drop individually: first try to flow left to the lowest reachable position, then try right, then stay at k
- Scan left/right from k, tracking the lowest position seen; stop at the first position higher than current
- Water only flows to a side if a strictly lower position exists; otherwise the drop stays at the drop point

# Code
```javascript
/**
 * @param {number[]} heights
 * @param {number} volume
 * @param {number} k
 * @return {number[]}
 */
var pourWater = function(heights, volume, k) {
    const water = Array(heights.length).fill(0);
    const newHeights = heights.map(h => h);

    for (let drop = 0; drop < volume; drop++) {
        let leftPos = k;
        for (let i = k - 1; i >= 0; i--) {
            if (newHeights[i] > newHeights[leftPos]) {
                break;
            }
            if (newHeights[i] < newHeights[leftPos]) {
                leftPos = i;
            }
        }

        if (leftPos != k) {
            newHeights[leftPos]++;
            continue;
        }

        let rightPos = k;
        for (let i = k + 1; i < heights.length; i++) {
            if (newHeights[i] > newHeights[rightPos]) {
                break;
            }
            if (newHeights[i] < newHeights[rightPos]) {
                rightPos = i;
            }
        }

        if (rightPos != k) {
            newHeights[rightPos]++;
            continue;
        }

        newHeights[k]++;
    }

    return newHeights;
};
```

# Complexity
**Time:** O(volume * n) where n is the length of heights**Space:** O(n) for the newHeights copy
