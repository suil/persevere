# My Calendar I
[729. My Calendar I](https://leetcode.com/problems/my-calendar-i/)

You are implementing a program to use as your calendar. We can add a new event if adding the event will not cause a double booking.

# Key insights
- Maintain bookings sorted by start time and use binary search to find the insertion point
- An overlap exists if the new event doesn't end before or start after the mid event
- Use splice to insert at the correct position to keep the array sorted after each booking

# Code
```javascript

var MyCalendar = function() {
    this.bookings = [];
};

/** 
 * @param {number} startTime 
 * @param {number} endTime
 * @return {boolean}
 */
MyCalendar.prototype.book = function(startTime, endTime) {
    // Use binary search to find the correct position for the new event
    let left = 0, right = this.bookings.length - 1;

    while (left <= right) {
        const mid = Math.floor((left + right) / 2);
        const [midStart, midEnd] = this.bookings[mid];

        if (endTime <= midStart) {
            // The new event ends before the current mid event starts
            right = mid - 1;
        } else if (startTime >= midEnd) {
            // The new event starts after the current mid event ends
            left = mid + 1;
        } else {
            // Overlap detected
            return false;
        }
    }

    // No overlap, insert the new event at the correct position
    this.bookings.splice(left, 0, [startTime, endTime]);
    return true;
};

/** 
 * Your MyCalendar object will be instantiated and called as such:
 * var obj = new MyCalendar()
 * var param_1 = obj.book(startTime,endTime)
 */
```

# Complexity
**Time:** O(n) per book call (O(log n) binary search but O(n) splice insertion)**Space:** O(n) for storing all bookings
