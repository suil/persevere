# Longest Continuous Subarray With Absolute Diff Less Than or Equal to Limit
[1438. Longest Continuous Subarray With Absolute Diff Less Than or Equal to Limit](https://leetcode.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/)

Given an array of integers nums and an integer limit, return the size of the longest non-empty subarray such that the absolute difference between any two elements of this subarray is less than or equal to limit.

# Key insights
- Sliding window with two monotonic deques: one tracks the minimum (increasing deque) and one tracks the maximum (decreasing deque)
- The absolute difference constraint only depends on the max and min within the window, so maintaining both deques is sufficient
- Shrink the window from the left when max - min exceeds the limit, removing stale indices from the front of each deque

# Code
```javascript
/**
 * @param {number[]} nums
 * @param {number} limit
 * @return {number}
 */
var longestSubarray = function(nums, limit) {
    let left = 0;
    let maxLen = -Infinity;
    const minQ = [], maxQ = [];
    
    for (let right = 0; right < nums.length; right++) {
        const rightNum = nums[right];
        while (minQ.length > 0 && nums[minQ.at(-1)] > rightNum) minQ.pop();
        minQ.push(right);

        while (maxQ.length > 0 && nums[maxQ.at(-1)] < rightNum) maxQ.pop();
        maxQ.push(right);

        while (left <= right && Math.abs(nums[maxQ[0]] - nums[minQ[0]]) > limit) {
            if (left === maxQ[0]) maxQ.shift();
            if (left === minQ[0]) minQ.shift();
            left++;
        }
        maxLen = Math.max(maxLen, right - left + 1);
    }
    return maxLen;
};
```

# Complexity
**Time:** O(n) -- each element is pushed and popped from each deque at most once
**Space:** O(n) for the two deques
