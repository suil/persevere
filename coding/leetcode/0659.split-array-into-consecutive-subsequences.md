# Split Array into Consecutive Subsequences
[659. Split Array into Consecutive Subsequences](https://leetcode.com/problems/split-array-into-consecutive-subsequences/)

You are given an integer array nums that is sorted in non-decreasing order.

# Key insights
- Greedy approach using two maps: `count` for remaining element counts, `seq` for the number of subsequences ending at each value
- For each element, prefer extending an existing subsequence (seq[x-1] > 0) over starting a new one
- When starting a new subsequence, require x+1 and x+2 to be available; if neither option works, return false

# Code
```javascript
/**
 * @param {number[]} nums
 * @return {boolean}
 */
var isPossible = function(nums) {
    const count = {};
    const seq = {};

    for (const x of nums) {
        count[x] = (count[x] || 0) + 1;
        seq[x] = 0;
    }

    for (const x of nums) {
        if (count[x] == 0) continue;

        if (seq[x - 1] > 0) {                
            count[x]--;
            seq[x - 1] -= 1;
            seq[x] += 1;               
        } else {
            if ((count[x + 1] || 0) == 0 || (count[x + 2] || 0) == 0) {
                return false;
            }
            count[x]--;
            count[x + 1] = (count[x + 1] || 0) - 1;
            count[x + 2] = (count[x + 2] || 0) - 1;
            seq[x + 2] = (seq[x + 2] || 0) + 1;
        }
    }

    return true;        
};
```

# Complexity
**Time:** O(n) -- two passes through the array (one for counting, one for assignment)
**Space:** O(n) -- for the count and seq maps
