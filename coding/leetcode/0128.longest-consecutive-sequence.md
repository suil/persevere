# Longest Consecutive Sequence
[128. Longest Consecutive Sequence](https://leetcode.com/problems/longest-consecutive-sequence/)

Given an unsorted array of integers nums, return the length of the longest consecutive elements sequence.

You must write an algorithm that runs in O(n) time.

# Key insights
* Put all numbers in a set for O(1) lookup
* Only start counting from numbers that are the beginning of a sequence (num - 1 not in set)
* For each sequence start, count consecutive numbers upward
* This ensures each number is visited at most twice total

# Code
```javascript
var longestConsecutive = function(nums) {
    const set = new Set(nums);
    let longest = 0;

    for (const num of set) {
        // only start counting if num is the start
        if (!set.has(num - 1)) {
            let currentNum = num;
            let length = 1;

            while (set.has(currentNum + 1)) {
                currentNum++;
                length++;
            }

            longest = Math.max(longest, length);
        }
    }

    return longest;
};
```

# Complexity
**Time:** O(n) - Each number is visited at most twice (once in the outer loop, once in the while loop).**Space:** O(n) - The set stores all numbers.
