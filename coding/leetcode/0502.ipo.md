# IPO
[502. IPO](https://leetcode.com/problems/ipo/)

Suppose LeetCode will start its IPO soon. In order to sell a good price of its shares to Venture Capital, LeetCode would like to work on some projects to increase its capital before the IPO. Since it has limited resources, it can only finish at most k distinct projects before the IPO. Help LeetCode design the best way to maximize its total capital after finishing at most k distinct projects.

# Key insights
- Greedy: always pick the project with the highest profit among those affordable with current capital
- Sort projects by required capital, then use a max-heap to efficiently select the most profitable affordable project
- As capital grows after each project, add newly affordable projects to the heap

# Code
```javascript
/**
 * @param {number} k
 * @param {number} w
 * @param {number[]} profits
 * @param {number[]} capital
 * @return {number}
 */
var findMaximizedCapital = function(k, w, profits, capital) {
    const n = profits.length;
    const projects = new Array(n);
    for (let i = 0; i < n; i++) {
        projects[i] = [capital[i], profits[i]];
    }
    // Sort by required capital
    projects.sort((a, b) => a[0] - b[0]);

    const heap = new PriorityQueue((a, b) => b - a);
    let i = 0;
    let currCapital = w;

    for (let t = 0; t < k; t++) {
        // Add all projects we can afford now
        while (i < n && projects[i][0] <= currCapital) {
            heap.push(projects[i][1]); // push profit
            i++;
        }
        if (heap.size() === 0) break; // can't do any project
        currCapital += heap.pop(); // take the best profit
    }

    return currCapital;
};
```

# Complexity
**Time:** O(n log n) -- sorting plus at most n heap insertions/extractions
**Space:** O(n) -- for the heap and projects array
