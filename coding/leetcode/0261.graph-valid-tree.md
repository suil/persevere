# Graph Valid Tree
[261. Graph Valid Tree](https://leetcode.com/problems/graph-valid-tree/)

DFS cycle detection

Union Find

# Key insights
* Build undirected graph using adjacency list representation with Map
* Use DFS with cycle detection by tracking previous node to avoid false positives
* Check connectedness by verifying all n nodes are visited in single DFS traversal
* Valid tree requires exactly n-1 edges, no cycles, and full connectivity

# Code
```javascript
var validTree = function(n, edges) {
    const graph = new Map();
    for (const [u, v] of edges) {
        if (!graph.has(u)) { graph.set(u, []); }
        if (!graph.has(v)) { graph.set(v, []); }
        graph.get(u).push(v);
        graph.get(v).push(u);
    }
    
    const visited = new Set();
    if (hasCycle(graph, 0, -1, visited)) { return false; }
    
    return visited.size === n;
};
function hasCycle(graph, current, prev, visited) {
    if (visited.has(current)) {
        return true;
    }
    visited.add(current);
    neighbors = graph[current];
    for (const neighbor of neighbors) {
        if (neighbor === prev) { continue; }
        if (hasCycle(graph, neighbor, current, visited)) {
            return true;
        }
    }
    return false;
}
```
```javascript
class UnionFind {
    constructor(n) {
        this.roots = [...Array(n)].map((_, index) => index);
        this.length = n;
    }
    
    find(id) {
        if (this.roots[id] === id) {
            return id;
        }
        this.roots[id] = this.find(this.roots[id]);
        return this.roots[id];
    }
    
    union(x, y) {
        const rootX = this.find(x);
        const rootY = this.find(y);
        
        if (rootX === rootY) { return false; }
        this.roots[rootY] = rootX;
        this.length--;
        return true;
    }
    
    get size() {
        return this.length;;
    }
}

var validTree = function(n, edges) {
    const uf = new UnionFind(n);
    
    for (const [u, v] of edges) {
        if (!uf.union(u, v)) { return false; }
    }
    
    return uf.size === 1;
};
```